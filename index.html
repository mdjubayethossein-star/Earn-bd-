<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Earn bd</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    
    <script src='//libtl.com/sdk.js' data-zone='9465942' data-sdk='show_9465942'></script>

    <style>
        :root { --main: #ff007f; --bg-pink: #fff0f5; --white: #ffffff; }
        body { font-family: 'Segoe UI', sans-serif; margin: 0; background: linear-gradient(180deg, #ff007f 0%, #ff69b4 100%); color: #333; min-height: 100vh; overflow: hidden; }
        
        /* Dashboard Styling */
        .header { padding: 25px 20px; display: flex; justify-content: space-between; align-items: center; color: white; }
        .u-info { display: flex; align-items: center; gap: 12px; }
        .avatar { width: 50px; height: 50px; border-radius: 50%; border: 2px solid #fff; object-fit: cover; }
        .wallet-box { background: rgba(0,0,0,0.25); padding: 7px 15px; border-radius: 20px; font-weight: bold; display: flex; align-items: center; gap: 6px; }

        .container { background: var(--white); border-radius: 35px 35px 0 0; padding: 25px 20px; min-height: 85vh; box-shadow: 0 -10px 20px rgba(0,0,0,0.1); }
        .brand-text { text-align: center; font-weight: bold; color: var(--main); font-size: 1.3rem; margin-bottom: 5px; }
        
        /* Main Menu Grid */
        .menu-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-top: 20px; }
        .menu-item { background: white; border-radius: 20px; padding: 20px 5px; text-align: center; box-shadow: 0 5px 15px rgba(0,0,0,0.06); cursor: pointer; transition: 0.2s; }
        .menu-item:active { transform: scale(0.9); }
        .icon-box { width: 45px; height: 45px; border-radius: 12px; display: flex; align-items: center; justify-content: center; margin: 0 auto 10px; color: white; font-size: 20px; }

        /* Full Screen Pages */
        .screen { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #fff; z-index: 1000; padding: 20px; box-sizing: border-box; overflow-y: auto; }
        .active-page { display: block; animation: slideUp 0.3s ease-out; }
        @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }

        .back-btn { font-size: 24px; color: var(--main); cursor: pointer; margin-bottom: 20px; display: inline-block; }
        .btn-action { width: 100%; padding: 15px; border-radius: 15px; border: none; background: var(--main); color: white; font-weight: bold; font-size: 16px; margin-top: 15px; cursor: pointer; }
        .card { background: var(--bg-pink); padding: 20px; border-radius: 20px; margin-bottom: 15px; border: 1px solid #ffdeef; }
        .list-row { display: flex; justify-content: space-between; padding: 12px; background: #fff; border-radius: 12px; margin-bottom: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.03); }
    </style>
</head>
<body>

    <div id="home-page">
        <div class="header">
            <div class="u-info">
                <img src="https://ui-avatars.com/api/?name=User" id="home-avatar" class="avatar">
                <div><b id="home-name">User</b><br><small id="home-tag">@username</small></div>
            </div>
            <div class="wallet-box"><i class="fas fa-coins" style="color:gold;"></i> ‡ß≥ <span id="main-balance">0.00</span></div>
        </div>

        <div class="container">
            <div class="brand-text">"ALTAS LAB" Product</div>
            <p style="text-align:center; font-size:13px; color:#777;">‡¶∏‡¶†‡¶ø‡¶ï‡¶≠‡¶æ‡¶¨‡ßá ‡¶ï‡¶æ‡¶ú ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶® ‡¶ï‡¶∞‡ßá ‡¶¨‡ßã‡¶®‡¶æ‡¶∏ ‡¶¨‡ßÅ‡¶ù‡ßá ‡¶®‡¶ø‡¶®!</p>
            
            <div class="menu-grid">
                <div class="menu-item" onclick="nav('monetag-task')"><div class="icon-box" style="background:#7b2ff7;"><i class="fas fa-play-circle"></i></div><small>Start Task</small></div>
                <div class="menu-item" onclick="nav('tg-task')"><div class="icon-box" style="background:#0088cc;"><i class="fab fa-telegram-plane"></i></div><small>Telegram Task</small></div>
                <div class="menu-item" onclick="nav('profile-sc')"><div class="icon-box" style="background:#ff4081;"><i class="fas fa-user-circle"></i></div><small>Profile</small></div>
                
                <div class="menu-item" onclick="nav('top-sc')"><div class="icon-box" style="background:#ff9800;"><i class="fas fa-crown"></i></div><small>Top Users</small></div>
                <div class="menu-item" onclick="nav('withdraw-sc')"><div class="icon-box" style="background:#00c853;"><i class="fas fa-wallet"></i></div><small>Withdraw</small></div>
                <div class="menu-item" onclick="window.open('https://t.me/earnkingadmin')"><div class="icon-box" style="background:#333;"><i class="fas fa-code"></i></div><small>Developer</small></div>
                
                <div class="menu-item" onclick="nav('notice-sc')"><div class="icon-box" style="background:#f44336;"><i class="fas fa-bell"></i></div><small>Notice</small></div>
                <div class="menu-item" onclick="nav('history-sc')"><div class="icon-box" style="background:#2196f3;"><i class="fas fa-history"></i></div><small>History</small></div>
                <div class="menu-item" onclick="window.open('https://t.me/earnkingadmin')"><div class="icon-box" style="background:#9c27b0;"><i class="fas fa-headset"></i></div><small>Support</small></div>
            </div>
        </div>
    </div>

    <div id="monetag-task" class="screen">
        <i class="fas fa-arrow-left back-btn" onclick="back()"></i>
        <h3 style="text-align:center;">Daily Ad Task</h3>
        <div class="card" style="text-align:center; margin-top:20px;">
            <p>‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡ßá ‡¶™‡¶æ‡¶¨‡ßá‡¶® ‡ß¶.‡ß¶‡ß≠ ‡¶ü‡¶æ‡¶ï‡¶æ</p>
            <div style="display:flex; justify-content:space-between;"><small>Progress</small> <small id="ad-stat">0/100</small></div>
            <div style="background:#eee; height:10px; border-radius:5px; margin:8px 0; overflow:hidden;">
                <div id="ad-bar" style="background:var(--main); height:100%; width:0%; transition:0.3s;"></div>
            </div>
            <button class="btn-action" onclick="playAd()">NEXT AD <i class="fas fa-chevron-right"></i></button>
        </div>
    </div>

    <div id="tg-task" class="screen">
        <i class="fas fa-arrow-left back-btn" onclick="back()"></i>
        <h3>Special Tasks</h3>
        <div class="card">
            <b>1. Gemgala App Offer</b> <span style="float:right; color:var(--main);">‡ß≥ 5.00</span>
            <p style="font-size:12px; color:#666; margin:10px 0;">‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßá ‡¶´‡ßá‡¶∏ ‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶æ‡¶á ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶®‡¶∂‡¶ü ‡¶¶‡¶ø‡¶®‡•§</p>
            <button class="btn-action" style="background:#0088cc; padding:10px;" onclick="window.open('https://getblock.me/u/24587869')">Task Link</button>
            <input type="file" id="g-proof" style="margin-top:10px; font-size:11px;">
            <button class="btn-action" onclick="submitTask('Gemgala', 5)">Submit Proof</button>
        </div>
        <div class="card">
            <b>2. Join Telegram</b> <span style="float:right; color:var(--main);">‡ß≥ 1.00</span>
            <button class="btn-action" style="background:#0088cc; padding:10px;" onclick="window.open('https://t.me/incomeupdattesbd')">Join Now</button>
            <button class="btn-action" onclick="submitTask('Telegram', 1)">Verify Join</button>
        </div>
    </div>

    <div id="profile-sc" class="screen">
        <i class="fas fa-arrow-left back-btn" onclick="back()"></i>
        <div style="text-align:center; margin-top:10px;">
            <img id="prof-img" src="" style="width:100px; height:100px; border-radius:50%; border:4px solid var(--main);">
            <h2 id="prof-name" style="margin-bottom:5px;">User</h2>
            <p id="prof-id" style="color:#777; margin-top:0;">ID: 000000</p>
        </div>
        <div class="card" style="margin-top:20px;">
            <div class="list-row"><span>Total Balance</span> <b style="color:var(--main);">‡ß≥ <span class="val-bal">0.00</span></b></div>
            <div class="list-row"><span>Ad Tasks Done</span> <b id="prof-ads">0</b></div>
            <div class="list-row"><span>Referral Earnings</span> <b>‡ß≥ 0.00</b></div>
        </div>
        <button class="btn-action" onclick="nav('refer-sc')">Invite Friends (‡ß≥ 1.00)</button>
    </div>

    <div id="top-sc" class="screen">
        <i class="fas fa-arrow-left back-btn" onclick="back()"></i>
        <h3 style="text-align:center;"><i class="fas fa-crown" style="color:gold;"></i> Top 10 Performers</h3>
        <div id="leaderboard" style="margin-top:15px;">
            <div class="list-row"><span>1. MD Sobuj</span> <b>‡ß≥ 10.90</b></div>
            <div class="list-row"><span>2. Shuvo</span> <b>‡ß≥ 2.00</b></div>
            <div class="list-row"><span>3. Shom...</span> <b>‡ß≥ 1.05</b></div>
            <div class="list-row"><span>4. Trisha</span> <b>‡ß≥ 0.15</b></div>
        </div>
    </div>

    <div id="withdraw-sc" class="screen">
        <i class="fas fa-arrow-left back-btn" onclick="back()"></i>
        <div class="card" style="background:var(--main); color:white; text-align:center; border:none;">
            <small>Current Balance</small>
            <h1>‡ß≥ <span class="val-bal">0.00</span></h1>
        </div>
        <p style="font-weight:bold; margin-top:20px;">Method (Min 50 TK)</p>
        <select class="btn-action" id="w-method" style="background:#eee; color:#333; text-align:left;">
            <option value="bkash">Bkash</option>
            <option value="nagad">Nagad</option>
        </select>
        <input type="number" id="w-amt" placeholder="Enter Amount" class="btn-action" style="background:#eee; color:#333; text-align:left;">
        <input type="text" id="w-num" placeholder="Wallet Number" class="btn-action" style="background:#eee; color:#333; text-align:left;">
        <button class="btn-action" onclick="doWithdraw()">Request Withdrawal</button>
    </div>

    <div id="history-sc" class="screen">
        <i class="fas fa-arrow-left back-btn" onclick="back()"></i>
        <h3 style="text-align:center;">Withdraw History</h3>
        <div style="text-align:center; margin-top:50px; color:#ccc;">
            <i class="fas fa-history" style="font-size:60px;"></i>
            <p>No transactions found yet!</p>
        </div>
    </div>

    <div id="refer-sc" class="screen">
        <i class="fas fa-arrow-left back-btn" onclick="back()"></i>
        <div class="card" style="text-align:center; padding:40px 20px;">
            <h3>Invite & Earn ‡ß≥ 1.00</h3>
            <p style="color:#666;">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡¶®‡ßç‡¶ß‡ßÅ‡¶¶‡ßá‡¶∞ ‡¶á‡¶®‡¶≠‡¶æ‡¶á‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá ‡ßß ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶¨‡ßã‡¶®‡¶æ‡¶∏ ‡¶™‡¶æ‡¶®‡•§</p>
            <div style="background:#fff; border:2px dashed var(--main); padding:15px; border-radius:15px; margin:20px 0;">
                <b id="ref-code">000000</b>
            </div>
            <button class="btn-action" onclick="share()">Share Invite Link</button>
        </div>
    </div>

    <div id="notice-sc" class="screen">
        <i class="fas fa-arrow-left back-btn" onclick="back()"></i>
        <h3 style="text-align:center;">Important Notice</h3>
        <div class="card" style="line-height:1.6;">
            üì¢ <b>Earn bd</b> ‡¶®‡¶ø‡¶Ø‡¶º‡¶Æ‡¶®‡ßÄ‡¶§‡¶ø:<br>
            - ‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡ßá ‡ß¶.‡ß¶‡ß≠ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶Ø‡ßã‡¶ó ‡¶π‡¶¨‡ßá‡•§<br>
            - ‡¶°‡ßá‡¶á‡¶≤‡¶ø ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶° ‡¶≤‡¶ø‡¶Æ‡¶ø‡¶ü ‡ßß‡ß¶‡ß¶‡¶ü‡¶ø‡•§<br>
            - ‡¶∞‡ßá‡¶´‡¶æ‡¶∞ ‡¶¨‡ßã‡¶®‡¶æ‡¶∏ ‡ßß ‡¶ü‡¶æ‡¶ï‡¶æ‡•§<br>
            - ‡¶Æ‡¶ø‡¶®‡¶ø‡¶Æ‡¶æ‡¶Æ ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡ß´‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ (‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂/‡¶®‡¶ó‡¶¶)‡•§<br>
            - ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶∞‡¶ø‡¶ï‡ßã‡¶Ø‡¶º‡ßá‡¶∏‡ßç‡¶ü‡ßá‡¶∞ ‡ßß‡ß®-‡ß®‡ß™ ‡¶ò‡¶®‡ßç‡¶ü‡¶æ‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶™‡¶æ‡¶¨‡ßá‡¶®‡•§
        </div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();
        
        let bal = 0.00; // New user starts with 0
        let ads = 0;

        // Load User Data from Telegram
        if(tg.initDataUnsafe && tg.initDataUnsafe.user) {
            const u = tg.initDataUnsafe.user;
            document.getElementById('home-name').innerText = u.first_name;
            document.getElementById('prof-name').innerText = u.first_name;
            document.getElementById('home-tag').innerText = "@" + (u.username || "user");
            document.getElementById('prof-id').innerText = "ID: " + u.id;
            document.getElementById('ref-code').innerText = u.id;
            const pic = u.photo_url || "https://ui-avatars.com/api/?background=ff007f&color=fff&name=" + u.first_name;
            document.getElementById('home-avatar').src = pic;
            document.getElementById('prof-img').src = pic;
        }

        function nav(id) { document.getElementById(id).classList.add('active-page'); }
        function back() { document.querySelectorAll('.screen').forEach(s => s.classList.remove('active-page')); }

        function playAd() {
            if(ads >= 100) return alert("Daily limit reached!");
            if(typeof show_9465942 === 'function') {
                show_9465942().then(() => { addReward(0.07); ads++; updateUI(); })
                .catch(() => { addReward(0.07); ads++; updateUI(); });
            } else { addReward(0.07); ads++; updateUI(); }
        }

        function addReward(a) {
            bal += a;
            updateUI();
            tg.showPopup({title: "Success", message: "‡ß≥ " + a + " ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏‡ßá ‡¶Ø‡ßã‡¶ó ‡¶π‡ßü‡ßá‡¶õ‡ßá!"});
        }

        function submitTask(name, reward) {
            alert(name + " ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï‡¶ü‡¶ø ‡¶ú‡¶Æ‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá! ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßá ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏ ‡¶¶‡¶ø‡ßü‡ßá ‡¶¶‡¶ø‡¶¨‡ßá‡•§");
            addReward(reward);
        }

        function doWithdraw() {
            const a = document.getElementById('w-amt').value;
            const n = document.getElementById('w-num').value;
            if(a < 50) return alert("‡¶Æ‡¶ø‡¶®‡¶ø‡¶Æ‡¶æ‡¶Æ ‡ß´‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶π‡¶§‡ßá ‡¶π‡¶¨‡ßá!");
            if(a > bal) return alert("‡¶™‡¶∞‡ßç‡¶Ø‡¶æ‡¶™‡ßç‡¶§ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏ ‡¶®‡ßá‡¶á!");
            if(!n) return alert("‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶¶‡¶ø‡¶®!");
            alert("‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡¶∞‡¶ø‡¶ï‡ßã‡¶Ø‡¶º‡ßá‡¶∏‡ßç‡¶ü ‡¶∏‡¶´‡¶≤ ‡¶π‡ßü‡ßá‡¶õ‡ßá!");
            bal -= parseFloat(a);
            updateUI();
        }

        function share() {
            const link = "https://t.me/YourBotName?start=" + tg.initDataUnsafe.user.id;
            window.open("https://t.me/share/url?url=" + encodeURIComponent(link) + "&text=" + encodeURIComponent("Earn bd-‡¶è ‡¶ú‡ßü‡ßá‡¶® ‡¶ï‡¶∞‡ßá ‡¶Ü‡ßü ‡¶ï‡¶∞‡ßÅ‡¶®!"));
            addReward(1.00); // Demo referral reward
        }

        function updateUI() {
            document.getElementById('main-balance').innerText = bal.toFixed(2);
            document.querySelectorAll('.val-bal').forEach(e => e.innerText = bal.toFixed(2));
            document.getElementById('ad-stat').innerText = ads + "/100";
            document.getElementById('ad-bar').style.width = ads + "%";
            document.getElementById('prof-ads').innerText = ads;
        }

        updateUI();
    </script>
</body>
</html>